"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");

var _Object$defineProperty = require("@babel/runtime-corejs3/core-js-stable/object/define-property");

require("core-js/modules/es.array.iterator");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports.default = exports.Tooling = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime-corejs3/helpers/defineProperty"));

var _jsforce = require("../jsforce");

var _connection = _interopRequireDefault(require("../connection"));

var _cache = _interopRequireDefault(require("../cache"));

/**
 * @file Manages Tooling APIs
 * @author Shinichi Tomita <shinichi.tomita@gmail.com>
 */

/**
 *
 */
const {
  query,
  queryMore,
  create,
  _createSingle,
  _createMany,
  _createParallel,
  retrieve,
  _retrieveSingle,
  _retrieveParallel,
  _retrieveMany,
  update,
  _updateSingle,
  _updateParallel,
  _updateMany,
  upsert,
  destroy,
  _destroySingle,
  _destroyParallel,
  _destroyMany,
  describe,
  describeGlobal,
  sobject
} = _connection.default.prototype;

const describeCacheKey = type => type ? `describe.${type}` : 'describe';
/**
 * API class for Tooling API call
 */


class Tooling {
  /**
   * Execute query by using SOQL
   */

  /**
   * Query next record set by using query locator
   */

  /**
   * Create records
   */

  /**
   * Synonym of Tooling#create()
   */

  /**
   * Retrieve specified records
   */

  /**
   * Update records
   */

  /**
   * Upsert records
   */

  /**
   * Delete records
   */

  /**
   * Synonym of Tooling#destroy()
   */

  /**
   * Synonym of Tooling#destroy()
   */

  /**
   * Describe SObject metadata
   */

  /**
   * Synonym of Tooling#describe()
   */

  /**
   * Describe global SObjects
   */

  /**
   * Get SObject instance
   */

  /**
   *
   */
  constructor(conn) {
    (0, _defineProperty2.default)(this, "_conn", void 0);
    (0, _defineProperty2.default)(this, "query", query);
    (0, _defineProperty2.default)(this, "queryMore", queryMore);
    (0, _defineProperty2.default)(this, "create", create);
    (0, _defineProperty2.default)(this, "_createSingle", _createSingle);
    (0, _defineProperty2.default)(this, "_createParallel", _createParallel);
    (0, _defineProperty2.default)(this, "_createMany", _createMany);
    (0, _defineProperty2.default)(this, "insert", create);
    (0, _defineProperty2.default)(this, "retrieve", retrieve);
    (0, _defineProperty2.default)(this, "_retrieveSingle", _retrieveSingle);
    (0, _defineProperty2.default)(this, "_retrieveParallel", _retrieveParallel);
    (0, _defineProperty2.default)(this, "_retrieveMany", _retrieveMany);
    (0, _defineProperty2.default)(this, "update", update);
    (0, _defineProperty2.default)(this, "_updateSingle", _updateSingle);
    (0, _defineProperty2.default)(this, "_updateParallel", _updateParallel);
    (0, _defineProperty2.default)(this, "_updateMany", _updateMany);
    (0, _defineProperty2.default)(this, "upsert", upsert);
    (0, _defineProperty2.default)(this, "destroy", destroy);
    (0, _defineProperty2.default)(this, "_destroySingle", _destroySingle);
    (0, _defineProperty2.default)(this, "_destroyParallel", _destroyParallel);
    (0, _defineProperty2.default)(this, "_destroyMany", _destroyMany);
    (0, _defineProperty2.default)(this, "delete", destroy);
    (0, _defineProperty2.default)(this, "del", destroy);
    (0, _defineProperty2.default)(this, "cache", new _cache.default());
    (0, _defineProperty2.default)(this, "describe", this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'NOCACHE'
    }));
    (0, _defineProperty2.default)(this, "describe$", this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'HIT'
    }));
    (0, _defineProperty2.default)(this, "describe$$", this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'IMMEDIATE'
    }));
    (0, _defineProperty2.default)(this, "describeSObject", this.describe);
    (0, _defineProperty2.default)(this, "describeSObject$", this.describe$);
    (0, _defineProperty2.default)(this, "describeSObject$$", this.describe$$);
    (0, _defineProperty2.default)(this, "describeGlobal", this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'NOCACHE'
    }));
    (0, _defineProperty2.default)(this, "describeGlobal$", this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'HIT'
    }));
    (0, _defineProperty2.default)(this, "describeGlobal$$", this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'IMMEDIATE'
    }));
    (0, _defineProperty2.default)(this, "sobject", sobject);
    (0, _defineProperty2.default)(this, "sobjects", {});
    this._conn = conn;
  }
  /**
   * @private
   */


  _establish() {
    this.sobjects = {};
    this.cache.clear();
    this.cache.get('describeGlobal').removeAllListeners('value');
    this.cache.get('describeGlobal').on('value', res => {
      if (res.result) {
        for (const {
          name: type
        } of res.result.sobjects) {
          this.sobject(type);
        }
      }
    });
  }
  /**
   * @private
   */


  _baseUrl() {
    return this._conn._baseUrl() + '/tooling';
  }
  /**
   * @private
   */


  _supports(feature) {
    return this._conn._supports(feature);
  }
  /**
   *
   */


  request(request, options) {
    return this._conn.request(request, options);
  }
  /**
   * Executes Apex code anonymously
   */


  executeAnonymous(body) {
    const url = this._baseUrl() + '/executeAnonymous?anonymousBody=' + encodeURIComponent(body);
    return this.request(url);
  }
  /**
   * Executes Apex tests asynchronously
   */


  runTestsAsynchronous(req) {
    const url = this._baseUrl() + '/runTestsAsynchronous/';
    return this._conn.requestPost(url, req);
  }
  /**
   * Executes Apex tests synchronously
   */


  runTestsSynchronous(req) {
    const url = this._baseUrl() + '/runTestsSynchronous/';
    return this._conn.requestPost(url, req);
  }
  /**
   * Retrieves available code completions of the referenced type
   */


  completions(type = 'apex') {
    const url = this._baseUrl() + '/completions?type=' + encodeURIComponent(type);
    return this.request({
      method: 'GET',
      url,
      headers: {
        Accept: 'application/json'
      }
    });
  }

}
/*--------------------------------------------*/

/*
 * Register hook in connection instantiation for dynamically adding this API module features
 */


exports.Tooling = Tooling;
(0, _jsforce.registerModule)('tooling', conn => new Tooling(conn));
var _default = Tooling;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcGkvdG9vbGluZy50cyJdLCJuYW1lcyI6WyJxdWVyeSIsInF1ZXJ5TW9yZSIsImNyZWF0ZSIsIl9jcmVhdGVTaW5nbGUiLCJfY3JlYXRlTWFueSIsIl9jcmVhdGVQYXJhbGxlbCIsInJldHJpZXZlIiwiX3JldHJpZXZlU2luZ2xlIiwiX3JldHJpZXZlUGFyYWxsZWwiLCJfcmV0cmlldmVNYW55IiwidXBkYXRlIiwiX3VwZGF0ZVNpbmdsZSIsIl91cGRhdGVQYXJhbGxlbCIsIl91cGRhdGVNYW55IiwidXBzZXJ0IiwiZGVzdHJveSIsIl9kZXN0cm95U2luZ2xlIiwiX2Rlc3Ryb3lQYXJhbGxlbCIsIl9kZXN0cm95TWFueSIsImRlc2NyaWJlIiwiZGVzY3JpYmVHbG9iYWwiLCJzb2JqZWN0IiwiQ29ubmVjdGlvbiIsInByb3RvdHlwZSIsImRlc2NyaWJlQ2FjaGVLZXkiLCJ0eXBlIiwiVG9vbGluZyIsImNvbnN0cnVjdG9yIiwiY29ubiIsIkNhY2hlIiwiY2FjaGUiLCJjcmVhdGVDYWNoZWRGdW5jdGlvbiIsImtleSIsInN0cmF0ZWd5IiwiZGVzY3JpYmUkIiwiZGVzY3JpYmUkJCIsIl9jb25uIiwiX2VzdGFibGlzaCIsInNvYmplY3RzIiwiY2xlYXIiLCJnZXQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvbiIsInJlcyIsInJlc3VsdCIsIm5hbWUiLCJfYmFzZVVybCIsIl9zdXBwb3J0cyIsImZlYXR1cmUiLCJyZXF1ZXN0Iiwib3B0aW9ucyIsImV4ZWN1dGVBbm9ueW1vdXMiLCJib2R5IiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicnVuVGVzdHNBc3luY2hyb25vdXMiLCJyZXEiLCJyZXF1ZXN0UG9zdCIsInJ1blRlc3RzU3luY2hyb25vdXMiLCJjb21wbGV0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJBY2NlcHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJQTs7QUFDQTs7QUFDQTs7QUFOQTtBQUNBO0FBQ0E7QUFDQTs7QUE4S0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNKQSxFQUFBQSxLQURJO0FBRUpDLEVBQUFBLFNBRkk7QUFHSkMsRUFBQUEsTUFISTtBQUlKQyxFQUFBQSxhQUpJO0FBS0pDLEVBQUFBLFdBTEk7QUFNSkMsRUFBQUEsZUFOSTtBQU9KQyxFQUFBQSxRQVBJO0FBUUpDLEVBQUFBLGVBUkk7QUFTSkMsRUFBQUEsaUJBVEk7QUFVSkMsRUFBQUEsYUFWSTtBQVdKQyxFQUFBQSxNQVhJO0FBWUpDLEVBQUFBLGFBWkk7QUFhSkMsRUFBQUEsZUFiSTtBQWNKQyxFQUFBQSxXQWRJO0FBZUpDLEVBQUFBLE1BZkk7QUFnQkpDLEVBQUFBLE9BaEJJO0FBaUJKQyxFQUFBQSxjQWpCSTtBQWtCSkMsRUFBQUEsZ0JBbEJJO0FBbUJKQyxFQUFBQSxZQW5CSTtBQW9CSkMsRUFBQUEsUUFwQkk7QUFxQkpDLEVBQUFBLGNBckJJO0FBc0JKQyxFQUFBQTtBQXRCSSxJQXVCRkMsb0JBQVdDLFNBdkJmOztBQXlCQSxNQUFNQyxnQkFBZ0IsR0FBSUMsSUFBRCxJQUN2QkEsSUFBSSxHQUFJLFlBQVdBLElBQUssRUFBcEIsR0FBd0IsVUFEOUI7QUFHQTtBQUNBO0FBQ0E7OztBQUNPLE1BQU1DLE9BQU4sQ0FBZ0M7QUFHckM7QUFDRjtBQUNBOztBQUdFO0FBQ0Y7QUFDQTs7QUFHRTtBQUNGO0FBQ0E7O0FBTUU7QUFDRjtBQUNBOztBQUdFO0FBQ0Y7QUFDQTs7QUFNRTtBQUNGO0FBQ0E7O0FBTUU7QUFDRjtBQUNBOztBQUdFO0FBQ0Y7QUFDQTs7QUFNRTtBQUNGO0FBQ0E7O0FBR0U7QUFDRjtBQUNBOztBQUtFO0FBQ0Y7QUFDQTs7QUFjRTtBQUNGO0FBQ0E7O0FBS0U7QUFDRjtBQUNBOztBQWNFO0FBQ0Y7QUFDQTs7QUFLRTtBQUNGO0FBQ0E7QUFDRUMsRUFBQUEsV0FBVyxDQUFDQyxJQUFELEVBQXNCO0FBQUE7QUFBQSxpREE5R0Q1QixLQThHQztBQUFBLHFEQXpHT0MsU0F5R1A7QUFBQSxrREFwR0NDLE1Bb0dEO0FBQUEseURBbkdqQkMsYUFtR2lCO0FBQUEsMkRBbEdmRSxlQWtHZTtBQUFBLHVEQWpHbkJELFdBaUdtQjtBQUFBLGtEQTVGeEJGLE1BNEZ3QjtBQUFBLG9EQXZGS0ksUUF1Rkw7QUFBQSwyREF0RmZDLGVBc0ZlO0FBQUEsNkRBckZiQyxpQkFxRmE7QUFBQSx5REFwRmpCQyxhQW9GaUI7QUFBQSxrREEvRUNDLE1BK0VEO0FBQUEseURBOUVqQkMsYUE4RWlCO0FBQUEsMkRBN0VmQyxlQTZFZTtBQUFBLHVEQTVFbkJDLFdBNEVtQjtBQUFBLGtEQXZFQ0MsTUF1RUQ7QUFBQSxtREFsRUdDLE9Ba0VIO0FBQUEsMERBakVoQkMsY0FpRWdCO0FBQUEsNERBaEVkQyxnQkFnRWM7QUFBQSx3REEvRGxCQyxZQStEa0I7QUFBQSxrREExRHhCSCxPQTBEd0I7QUFBQSwrQ0FyRDNCQSxPQXFEMkI7QUFBQSxpREFuRHpCLElBQUljLGNBQUosRUFtRHlCO0FBQUEsb0RBOUN0QixLQUFLQyxLQUFMLENBQVdDLG9CQUFYLENBQWdDWixRQUFoQyxFQUEwQyxJQUExQyxFQUFnRDtBQUN6RGEsTUFBQUEsR0FBRyxFQUFFUixnQkFEb0Q7QUFFekRTLE1BQUFBLFFBQVEsRUFBRTtBQUYrQyxLQUFoRCxDQThDc0I7QUFBQSxxREExQ3JCLEtBQUtILEtBQUwsQ0FBV0Msb0JBQVgsQ0FBZ0NaLFFBQWhDLEVBQTBDLElBQTFDLEVBQWdEO0FBQzFEYSxNQUFBQSxHQUFHLEVBQUVSLGdCQURxRDtBQUUxRFMsTUFBQUEsUUFBUSxFQUFFO0FBRmdELEtBQWhELENBMENxQjtBQUFBLHNEQXRDbkIsS0FBS0gsS0FBTCxDQUFXQyxvQkFBWCxDQUFnQ1osUUFBaEMsRUFBMEMsSUFBMUMsRUFBZ0Q7QUFDNURhLE1BQUFBLEdBQUcsRUFBRVIsZ0JBRHVEO0FBRTVEUyxNQUFBQSxRQUFRLEVBQUU7QUFGa0QsS0FBaEQsQ0FzQ21CO0FBQUEsMkRBOUJmLEtBQUtkLFFBOEJVO0FBQUEsNERBN0JkLEtBQUtlLFNBNkJTO0FBQUEsNkRBNUJiLEtBQUtDLFVBNEJRO0FBQUEsMERBdkJoQixLQUFLTCxLQUFMLENBQVdDLG9CQUFYLENBQWdDWCxjQUFoQyxFQUFnRCxJQUFoRCxFQUFzRDtBQUNyRVksTUFBQUEsR0FBRyxFQUFFLGdCQURnRTtBQUVyRUMsTUFBQUEsUUFBUSxFQUFFO0FBRjJELEtBQXRELENBdUJnQjtBQUFBLDJEQW5CZixLQUFLSCxLQUFMLENBQVdDLG9CQUFYLENBQWdDWCxjQUFoQyxFQUFnRCxJQUFoRCxFQUFzRDtBQUN0RVksTUFBQUEsR0FBRyxFQUFFLGdCQURpRTtBQUV0RUMsTUFBQUEsUUFBUSxFQUFFO0FBRjRELEtBQXRELENBbUJlO0FBQUEsNERBZmIsS0FBS0gsS0FBTCxDQUFXQyxvQkFBWCxDQUFnQ1gsY0FBaEMsRUFBZ0QsSUFBaEQsRUFBc0Q7QUFDeEVZLE1BQUFBLEdBQUcsRUFBRSxnQkFEbUU7QUFFeEVDLE1BQUFBLFFBQVEsRUFBRTtBQUY4RCxLQUF0RCxDQWVhO0FBQUEsbURBUEdaLE9BT0g7QUFBQSxvREFMc0IsRUFLdEI7QUFDL0IsU0FBS2UsS0FBTCxHQUFhUixJQUFiO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7OztBQUNFUyxFQUFBQSxVQUFVLEdBQUc7QUFDWCxTQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsU0FBS1IsS0FBTCxDQUFXUyxLQUFYO0FBQ0EsU0FBS1QsS0FBTCxDQUFXVSxHQUFYLENBQWUsZ0JBQWYsRUFBaUNDLGtCQUFqQyxDQUFvRCxPQUFwRDtBQUNBLFNBQUtYLEtBQUwsQ0FBV1UsR0FBWCxDQUFlLGdCQUFmLEVBQWlDRSxFQUFqQyxDQUFvQyxPQUFwQyxFQUE4Q0MsR0FBRCxJQUFTO0FBQ3BELFVBQUlBLEdBQUcsQ0FBQ0MsTUFBUixFQUFnQjtBQUNkLGFBQUssTUFBTTtBQUFFQyxVQUFBQSxJQUFJLEVBQUVwQjtBQUFSLFNBQVgsSUFBNkJrQixHQUFHLENBQUNDLE1BQUosQ0FBV04sUUFBeEMsRUFBa0Q7QUFDaEQsZUFBS2pCLE9BQUwsQ0FBYUksSUFBYjtBQUNEO0FBQ0Y7QUFDRixLQU5EO0FBT0Q7QUFFRDtBQUNGO0FBQ0E7OztBQUNFcUIsRUFBQUEsUUFBUSxHQUFHO0FBQ1QsV0FBTyxLQUFLVixLQUFMLENBQVdVLFFBQVgsS0FBd0IsVUFBL0I7QUFDRDtBQUVEO0FBQ0Y7QUFDQTs7O0FBQ0VDLEVBQUFBLFNBQVMsQ0FBQ0MsT0FBRCxFQUFrQjtBQUN6QixXQUFPLEtBQUtaLEtBQUwsQ0FBV1csU0FBWCxDQUFxQkMsT0FBckIsQ0FBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRUMsRUFBQUEsT0FBTyxDQUFjQSxPQUFkLEVBQTZDQyxPQUE3QyxFQUErRDtBQUNwRSxXQUFPLEtBQUtkLEtBQUwsQ0FBV2EsT0FBWCxDQUFzQkEsT0FBdEIsRUFBK0JDLE9BQS9CLENBQVA7QUFDRDtBQUVEO0FBQ0Y7QUFDQTs7O0FBQ0VDLEVBQUFBLGdCQUFnQixDQUFDQyxJQUFELEVBQWU7QUFDN0IsVUFBTUMsR0FBRyxHQUNQLEtBQUtQLFFBQUwsS0FDQSxrQ0FEQSxHQUVBUSxrQkFBa0IsQ0FBQ0YsSUFBRCxDQUhwQjtBQUlBLFdBQU8sS0FBS0gsT0FBTCxDQUFxQ0ksR0FBckMsQ0FBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRUUsRUFBQUEsb0JBQW9CLENBQUNDLEdBQUQsRUFBNEI7QUFDOUMsVUFBTUgsR0FBRyxHQUFHLEtBQUtQLFFBQUwsS0FBa0Isd0JBQTlCO0FBQ0EsV0FBTyxLQUFLVixLQUFMLENBQVdxQixXQUFYLENBQXNDSixHQUF0QyxFQUEyQ0csR0FBM0MsQ0FBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRUUsRUFBQUEsbUJBQW1CLENBQUNGLEdBQUQsRUFBdUI7QUFDeEMsVUFBTUgsR0FBRyxHQUFHLEtBQUtQLFFBQUwsS0FBa0IsdUJBQTlCO0FBQ0EsV0FBTyxLQUFLVixLQUFMLENBQVdxQixXQUFYLENBQThDSixHQUE5QyxFQUFtREcsR0FBbkQsQ0FBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRUcsRUFBQUEsV0FBVyxDQUFDbEMsSUFBNEIsR0FBRyxNQUFoQyxFQUF3QztBQUNqRCxVQUFNNEIsR0FBRyxHQUNQLEtBQUtQLFFBQUwsS0FBa0Isb0JBQWxCLEdBQXlDUSxrQkFBa0IsQ0FBQzdCLElBQUQsQ0FEN0Q7QUFFQSxXQUFPLEtBQUt3QixPQUFMLENBQWdDO0FBQ3JDVyxNQUFBQSxNQUFNLEVBQUUsS0FENkI7QUFFckNQLE1BQUFBLEdBRnFDO0FBR3JDUSxNQUFBQSxPQUFPLEVBQUU7QUFBRUMsUUFBQUEsTUFBTSxFQUFFO0FBQVY7QUFINEIsS0FBaEMsQ0FBUDtBQUtEOztBQW5Nb0M7QUFzTXZDOztBQUNBO0FBQ0E7QUFDQTs7OztBQUNBLDZCQUFlLFNBQWYsRUFBMkJsQyxJQUFELElBQVUsSUFBSUYsT0FBSixDQUFZRSxJQUFaLENBQXBDO2VBRWVGLE8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIE1hbmFnZXMgVG9vbGluZyBBUElzXG4gKiBAYXV0aG9yIFNoaW5pY2hpIFRvbWl0YSA8c2hpbmljaGkudG9taXRhQGdtYWlsLmNvbT5cbiAqL1xuaW1wb3J0IHsgcmVnaXN0ZXJNb2R1bGUgfSBmcm9tICcuLi9qc2ZvcmNlJztcbmltcG9ydCBDb25uZWN0aW9uIGZyb20gJy4uL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IENhY2hlLCB7IENhY2hlZEZ1bmN0aW9uIH0gZnJvbSAnLi4vY2FjaGUnO1xuaW1wb3J0IFNPYmplY3QgZnJvbSAnLi4vc29iamVjdCc7XG5pbXBvcnQge1xuICBEZXNjcmliZUdsb2JhbFJlc3VsdCxcbiAgRGVzY3JpYmVTT2JqZWN0UmVzdWx0LFxuICBIdHRwUmVxdWVzdCxcbiAgU2NoZW1hLFxuICBTT2JqZWN0TmFtZXMsXG59IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBFeGVjdXRlQW5vbnltb3VzUmVzdWx0ID0ge1xuICBjb21waWxlZDogYm9vbGVhbjtcbiAgY29tcGlsZVByb2JsZW06IHN0cmluZyB8IG51bGw7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGxpbmU6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG4gIGV4Y2VwdGlvbk1lc3NhZ2U6IHN0cmluZyB8IG51bGw7XG4gIGV4Y2VwdGlvblN0YWNrVHJhY2U6IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgdHlwZSBSdW5UZXN0TGV2ZWwgPVxuICB8ICdSdW5TcGVjaWZpZWRUZXN0cydcbiAgfCAnUnVuTG9jYWxUZXN0cydcbiAgfCAnUnVuQWxsVGVzdHNJbk9yZyc7XG5cbnR5cGUgVGVzdHNOb2RlID1cbiAgfCB7XG4gICAgICBjbGFzc0lkOiBzdHJpbmc7XG4gICAgICB0ZXN0TWV0aG9kcz86IHN0cmluZ1tdO1xuICAgIH1cbiAgfCB7XG4gICAgICBjbGFzc05hbWU6IHN0cmluZztcbiAgICAgIHRlc3RNZXRob2RzPzogc3RyaW5nW107XG4gICAgfTtcblxuZXhwb3J0IHR5cGUgUnVuVGVzdHNSZXF1ZXN0ID0ge1xuICB0ZXN0czogVGVzdHNOb2RlW107XG4gIG1heEZhaWxlZFRlc3RzPzogbnVtYmVyO1xuICB0ZXN0TGV2ZWw/OiBSdW5UZXN0TGV2ZWw7XG4gIHNraXBDb2RlQ292ZXJhZ2U/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgUnVuVGVzdHNBc3luY1JlcXVlc3QgPVxuICB8IHtcbiAgICAgIGNsYXNzaWRzPzogc3RyaW5nO1xuICAgICAgY2xhc3NOYW1lcz86IHN0cmluZztcbiAgICAgIHN1aXRlaWRzPzogc3RyaW5nO1xuICAgICAgc3VpdGVOYW1lcz86IHN0cmluZztcbiAgICAgIG1heEZhaWxlZFRlc3RzPzogbnVtYmVyO1xuICAgICAgdGVzdExldmVsPzogUnVuVGVzdExldmVsO1xuICAgICAgc2tpcENvZGVDb3ZlcmFnZT86IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHRlc3RzOiBUZXN0c05vZGVbXTtcbiAgICAgIG1heEZhaWxlZFRlc3RzPzogbnVtYmVyO1xuICAgICAgdGVzdExldmVsPzogUnVuVGVzdExldmVsO1xuICAgICAgc2tpcENvZGVDb3ZlcmFnZT86IGJvb2xlYW47XG4gICAgfTtcblxudHlwZSBDb2RlQ292ZXJhZ2VSZXN1bHQgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGxvY2F0aW9uc05vdENvdmVyZWQ6IGFueVtdO1xuICBuYW1lOiBzdHJpbmc7XG4gIG5hbWVzcGFjZTogc3RyaW5nIHwgbnVsbDtcbiAgbnVtTG9jYXRpb25zOiBudW1iZXI7XG4gIG51bUxvY2F0aW9uc05vdENvdmVyZWQ6IG51bWJlcjtcbiAgdHlwZTogc3RyaW5nO1xufTtcblxudHlwZSBDb2RlQ292ZXJhZ2VXYXJuaW5nID0ge1xuICBpZDogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZyB8IG51bGw7XG4gIG5hbWVzcGFjZTogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgRmxvd0NvdmVyYWdlUmVzdWx0ID0ge1xuICBlbGVtZW50c05vdENvdmVyZWQ6IHN0cmluZ1tdO1xuICBmbG93SWQ6IHN0cmluZztcbiAgZmxvd05hbWU6IHN0cmluZztcbiAgZmxvd05hbWVzcGFjZTogc3RyaW5nIHwgbnVsbDtcbiAgbnVtRWxlbWVudHM6IG51bWJlcjtcbiAgbnVtRWxlbWVudHNOb3RDb3ZlcmVkOiBudW1iZXI7XG4gIHByb2Nlc3NUeXBlOiBzdHJpbmc7XG59O1xuXG50eXBlIEZsb3dDb3ZlcmFnZVdhcm5pbmcgPSB7XG4gIGZsb3dJZDogc3RyaW5nO1xuICBmbG93TmFtZTogc3RyaW5nO1xuICBmbG93TmFtZXNwYWNlOiBzdHJpbmcgfCBudWxsO1xuICBtZXNzYWdlOiBzdHJpbmc7XG59O1xuXG50eXBlIFJ1blRlc3RTdWNjZXNzID0ge1xuICBpZDogc3RyaW5nO1xuICBtZXRob2ROYW1lOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgbmFtZXNwYWNlOiBzdHJpbmcgfCBudWxsO1xuICBzZWVBbGxEYXRhOiBib29sZWFuO1xuICB0aW1lOiBudW1iZXI7XG59O1xuXG50eXBlIFJ1blRlc3RGYWlsdXJlID0ge1xuICBpZDogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIG1ldGhvZE5hbWU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBuYW1lc3BhY2U6IHN0cmluZyB8IG51bGw7XG4gIHNlZUFsbERhdGE6IGJvb2xlYW47XG4gIHN0YWNrVHJhY2U6IHN0cmluZztcbiAgdGltZTogbnVtYmVyO1xuICB0eXBlOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBSdW5UZXN0c1Jlc3VsdCA9IHtcbiAgYXBleExvZ0lkOiBzdHJpbmc7XG4gIGNvZGVDb3ZlcmFnZTogQ29kZUNvdmVyYWdlUmVzdWx0W107XG4gIGNvZGVDb3ZlcmFnZVdhcm5pbmdzOiBDb2RlQ292ZXJhZ2VXYXJuaW5nW107XG4gIGZsb3dDb3ZlcmFnZTogRmxvd0NvdmVyYWdlUmVzdWx0W107XG4gIGZsb3dDb3ZlcmFnZVdhcm5pbmdzOiBGbG93Q292ZXJhZ2VXYXJuaW5nW107XG4gIG51bUZhaWx1cmVzOiBudW1iZXI7XG4gIG51bVRlc3RzUnVuOiBudW1iZXI7XG4gIHN1Y2Nlc3NlczogUnVuVGVzdFN1Y2Nlc3NbXTtcbiAgZmFpbHVyZXM6IFJ1blRlc3RGYWlsdXJlW107XG4gIHRvdGFsVGltZTogbnVtYmVyO1xufTtcblxudHlwZSBDb25zdHJ1Y3RvckRlY2xhcmF0aW9uID0ge1xuICBtZXRob2REb2M6IHN0cmluZyB8IG51bGw7XG4gIG5hbWU6IHN0cmluZztcbiAgcGFyYW1ldGVyczogQXJyYXk8e1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gIH0+O1xuICByZWZlcmVuY2VzOiBhbnlbXTtcbn07XG5cbnR5cGUgTWV0aG9kRGVjbGFyYXRpb24gPSB7XG4gIGFyZ1R5cGVzOiBzdHJpbmdbXTtcbiAgaXNTdGF0aWM6IGJvb2xlYW47XG4gIG1ldGhvZERvYzogc3RyaW5nIHwgbnVsbDtcbiAgbmFtZTogc3RyaW5nO1xuICBwYXJhbWV0ZXJzOiBBcnJheTx7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgfT47XG4gIHJlZmVyZW5jZXM6IGFueVtdO1xufTtcblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHJlZmVyZW5jZXM6IGFueVtdO1xufTtcblxudHlwZSBDbGFzc0RlY2xhcmF0aW9uID0ge1xuICBjb25zdHJ1Y3RvcnM6IENvbnN0cnVjdG9yRGVjbGFyYXRpb25bXTtcbiAgbWV0aG9kczogTWV0aG9kRGVjbGFyYXRpb25bXTtcbiAgcHJvcGVydGllczogUHJvcGVydHlEZWNsYXJhdGlvbltdO1xufTtcblxuZXhwb3J0IHR5cGUgQ29tcGxldGlvbnNSZXN1bHQgPSB7XG4gIHB1YmxpY0RlY2xhcmF0aW9ucz86IHtcbiAgICBbbmFtZXNwYWNlOiBzdHJpbmddOiB7XG4gICAgICBbbmFtZTogc3RyaW5nXTogQ2xhc3NEZWNsYXJhdGlvbjtcbiAgICB9O1xuICB9O1xufTtcblxuLyoqXG4gKlxuICovXG5jb25zdCB7XG4gIHF1ZXJ5LFxuICBxdWVyeU1vcmUsXG4gIGNyZWF0ZSxcbiAgX2NyZWF0ZVNpbmdsZSxcbiAgX2NyZWF0ZU1hbnksXG4gIF9jcmVhdGVQYXJhbGxlbCxcbiAgcmV0cmlldmUsXG4gIF9yZXRyaWV2ZVNpbmdsZSxcbiAgX3JldHJpZXZlUGFyYWxsZWwsXG4gIF9yZXRyaWV2ZU1hbnksXG4gIHVwZGF0ZSxcbiAgX3VwZGF0ZVNpbmdsZSxcbiAgX3VwZGF0ZVBhcmFsbGVsLFxuICBfdXBkYXRlTWFueSxcbiAgdXBzZXJ0LFxuICBkZXN0cm95LFxuICBfZGVzdHJveVNpbmdsZSxcbiAgX2Rlc3Ryb3lQYXJhbGxlbCxcbiAgX2Rlc3Ryb3lNYW55LFxuICBkZXNjcmliZSxcbiAgZGVzY3JpYmVHbG9iYWwsXG4gIHNvYmplY3QsXG59ID0gQ29ubmVjdGlvbi5wcm90b3R5cGU7XG5cbmNvbnN0IGRlc2NyaWJlQ2FjaGVLZXkgPSAodHlwZT86IHN0cmluZykgPT5cbiAgdHlwZSA/IGBkZXNjcmliZS4ke3R5cGV9YCA6ICdkZXNjcmliZSc7XG5cbi8qKlxuICogQVBJIGNsYXNzIGZvciBUb29saW5nIEFQSSBjYWxsXG4gKi9cbmV4cG9ydCBjbGFzcyBUb29saW5nPFMgZXh0ZW5kcyBTY2hlbWE+IHtcbiAgX2Nvbm46IENvbm5lY3Rpb248Uz47XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgcXVlcnkgYnkgdXNpbmcgU09RTFxuICAgKi9cbiAgcXVlcnk6IENvbm5lY3Rpb248Uz5bJ3F1ZXJ5J10gPSBxdWVyeTtcblxuICAvKipcbiAgICogUXVlcnkgbmV4dCByZWNvcmQgc2V0IGJ5IHVzaW5nIHF1ZXJ5IGxvY2F0b3JcbiAgICovXG4gIHF1ZXJ5TW9yZTogQ29ubmVjdGlvbjxTPlsncXVlcnlNb3JlJ10gPSBxdWVyeU1vcmU7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSByZWNvcmRzXG4gICAqL1xuICBjcmVhdGU6IENvbm5lY3Rpb248Uz5bJ2NyZWF0ZSddID0gY3JlYXRlO1xuICBfY3JlYXRlU2luZ2xlID0gX2NyZWF0ZVNpbmdsZTtcbiAgX2NyZWF0ZVBhcmFsbGVsID0gX2NyZWF0ZVBhcmFsbGVsO1xuICBfY3JlYXRlTWFueSA9IF9jcmVhdGVNYW55O1xuXG4gIC8qKlxuICAgKiBTeW5vbnltIG9mIFRvb2xpbmcjY3JlYXRlKClcbiAgICovXG4gIGluc2VydCA9IGNyZWF0ZTtcblxuICAvKipcbiAgICogUmV0cmlldmUgc3BlY2lmaWVkIHJlY29yZHNcbiAgICovXG4gIHJldHJpZXZlOiBDb25uZWN0aW9uPFM+WydyZXRyaWV2ZSddID0gcmV0cmlldmU7XG4gIF9yZXRyaWV2ZVNpbmdsZSA9IF9yZXRyaWV2ZVNpbmdsZTtcbiAgX3JldHJpZXZlUGFyYWxsZWwgPSBfcmV0cmlldmVQYXJhbGxlbDtcbiAgX3JldHJpZXZlTWFueSA9IF9yZXRyaWV2ZU1hbnk7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSByZWNvcmRzXG4gICAqL1xuICB1cGRhdGU6IENvbm5lY3Rpb248Uz5bJ3VwZGF0ZSddID0gdXBkYXRlO1xuICBfdXBkYXRlU2luZ2xlID0gX3VwZGF0ZVNpbmdsZTtcbiAgX3VwZGF0ZVBhcmFsbGVsID0gX3VwZGF0ZVBhcmFsbGVsO1xuICBfdXBkYXRlTWFueSA9IF91cGRhdGVNYW55O1xuXG4gIC8qKlxuICAgKiBVcHNlcnQgcmVjb3Jkc1xuICAgKi9cbiAgdXBzZXJ0OiBDb25uZWN0aW9uPFM+Wyd1cHNlcnQnXSA9IHVwc2VydDtcblxuICAvKipcbiAgICogRGVsZXRlIHJlY29yZHNcbiAgICovXG4gIGRlc3Ryb3k6IENvbm5lY3Rpb248Uz5bJ2Rlc3Ryb3knXSA9IGRlc3Ryb3k7XG4gIF9kZXN0cm95U2luZ2xlID0gX2Rlc3Ryb3lTaW5nbGU7XG4gIF9kZXN0cm95UGFyYWxsZWwgPSBfZGVzdHJveVBhcmFsbGVsO1xuICBfZGVzdHJveU1hbnkgPSBfZGVzdHJveU1hbnk7XG5cbiAgLyoqXG4gICAqIFN5bm9ueW0gb2YgVG9vbGluZyNkZXN0cm95KClcbiAgICovXG4gIGRlbGV0ZSA9IGRlc3Ryb3k7XG5cbiAgLyoqXG4gICAqIFN5bm9ueW0gb2YgVG9vbGluZyNkZXN0cm95KClcbiAgICovXG4gIGRlbCA9IGRlc3Ryb3k7XG5cbiAgY2FjaGUgPSBuZXcgQ2FjaGUoKTtcblxuICAvKipcbiAgICogRGVzY3JpYmUgU09iamVjdCBtZXRhZGF0YVxuICAgKi9cbiAgZGVzY3JpYmUgPSB0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKGRlc2NyaWJlLCB0aGlzLCB7XG4gICAga2V5OiBkZXNjcmliZUNhY2hlS2V5LFxuICAgIHN0cmF0ZWd5OiAnTk9DQUNIRScsXG4gIH0pO1xuICBkZXNjcmliZSQgPSB0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKGRlc2NyaWJlLCB0aGlzLCB7XG4gICAga2V5OiBkZXNjcmliZUNhY2hlS2V5LFxuICAgIHN0cmF0ZWd5OiAnSElUJyxcbiAgfSk7XG4gIGRlc2NyaWJlJCQgPSAodGhpcy5jYWNoZS5jcmVhdGVDYWNoZWRGdW5jdGlvbihkZXNjcmliZSwgdGhpcywge1xuICAgIGtleTogZGVzY3JpYmVDYWNoZUtleSxcbiAgICBzdHJhdGVneTogJ0lNTUVESUFURScsXG4gIH0pIGFzIHVua25vd24pIGFzIENhY2hlZEZ1bmN0aW9uPChuYW1lOiBzdHJpbmcpID0+IERlc2NyaWJlU09iamVjdFJlc3VsdD47XG5cbiAgLyoqXG4gICAqIFN5bm9ueW0gb2YgVG9vbGluZyNkZXNjcmliZSgpXG4gICAqL1xuICBkZXNjcmliZVNPYmplY3QgPSB0aGlzLmRlc2NyaWJlO1xuICBkZXNjcmliZVNPYmplY3QkID0gdGhpcy5kZXNjcmliZSQ7XG4gIGRlc2NyaWJlU09iamVjdCQkID0gdGhpcy5kZXNjcmliZSQkO1xuXG4gIC8qKlxuICAgKiBEZXNjcmliZSBnbG9iYWwgU09iamVjdHNcbiAgICovXG4gIGRlc2NyaWJlR2xvYmFsID0gdGhpcy5jYWNoZS5jcmVhdGVDYWNoZWRGdW5jdGlvbihkZXNjcmliZUdsb2JhbCwgdGhpcywge1xuICAgIGtleTogJ2Rlc2NyaWJlR2xvYmFsJyxcbiAgICBzdHJhdGVneTogJ05PQ0FDSEUnLFxuICB9KTtcbiAgZGVzY3JpYmVHbG9iYWwkID0gdGhpcy5jYWNoZS5jcmVhdGVDYWNoZWRGdW5jdGlvbihkZXNjcmliZUdsb2JhbCwgdGhpcywge1xuICAgIGtleTogJ2Rlc2NyaWJlR2xvYmFsJyxcbiAgICBzdHJhdGVneTogJ0hJVCcsXG4gIH0pO1xuICBkZXNjcmliZUdsb2JhbCQkID0gKHRoaXMuY2FjaGUuY3JlYXRlQ2FjaGVkRnVuY3Rpb24oZGVzY3JpYmVHbG9iYWwsIHRoaXMsIHtcbiAgICBrZXk6ICdkZXNjcmliZUdsb2JhbCcsXG4gICAgc3RyYXRlZ3k6ICdJTU1FRElBVEUnLFxuICB9KSBhcyB1bmtub3duKSBhcyBDYWNoZWRGdW5jdGlvbjwobmFtZTogc3RyaW5nKSA9PiBEZXNjcmliZUdsb2JhbFJlc3VsdD47XG5cbiAgLyoqXG4gICAqIEdldCBTT2JqZWN0IGluc3RhbmNlXG4gICAqL1xuICBzb2JqZWN0OiBDb25uZWN0aW9uPFM+Wydzb2JqZWN0J10gPSBzb2JqZWN0O1xuXG4gIHNvYmplY3RzOiB7IFtOIGluIFNPYmplY3ROYW1lczxTPl0/OiBTT2JqZWN0PFMsIE4+IH0gPSB7fTtcblxuICAvKipcbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbm46IENvbm5lY3Rpb248Uz4pIHtcbiAgICB0aGlzLl9jb25uID0gY29ubjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2VzdGFibGlzaCgpIHtcbiAgICB0aGlzLnNvYmplY3RzID0ge307XG4gICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuY2FjaGUuZ2V0KCdkZXNjcmliZUdsb2JhbCcpLnJlbW92ZUFsbExpc3RlbmVycygndmFsdWUnKTtcbiAgICB0aGlzLmNhY2hlLmdldCgnZGVzY3JpYmVHbG9iYWwnKS5vbigndmFsdWUnLCAocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLnJlc3VsdCkge1xuICAgICAgICBmb3IgKGNvbnN0IHsgbmFtZTogdHlwZSB9IG9mIHJlcy5yZXN1bHQuc29iamVjdHMpIHtcbiAgICAgICAgICB0aGlzLnNvYmplY3QodHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Jhc2VVcmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm4uX2Jhc2VVcmwoKSArICcvdG9vbGluZyc7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdXBwb3J0cyhmZWF0dXJlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fY29ubi5fc3VwcG9ydHMoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIHJlcXVlc3Q8UiA9IHVua25vd24+KHJlcXVlc3Q6IHN0cmluZyB8IEh0dHBSZXF1ZXN0LCBvcHRpb25zPzogT2JqZWN0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm4ucmVxdWVzdDxSPihyZXF1ZXN0LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBBcGV4IGNvZGUgYW5vbnltb3VzbHlcbiAgICovXG4gIGV4ZWN1dGVBbm9ueW1vdXMoYm9keTogc3RyaW5nKSB7XG4gICAgY29uc3QgdXJsID1cbiAgICAgIHRoaXMuX2Jhc2VVcmwoKSArXG4gICAgICAnL2V4ZWN1dGVBbm9ueW1vdXM/YW5vbnltb3VzQm9keT0nICtcbiAgICAgIGVuY29kZVVSSUNvbXBvbmVudChib2R5KTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PEV4ZWN1dGVBbm9ueW1vdXNSZXN1bHQ+KHVybCk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgQXBleCB0ZXN0cyBhc3luY2hyb25vdXNseVxuICAgKi9cbiAgcnVuVGVzdHNBc3luY2hyb25vdXMocmVxOiBSdW5UZXN0c0FzeW5jUmVxdWVzdCkge1xuICAgIGNvbnN0IHVybCA9IHRoaXMuX2Jhc2VVcmwoKSArICcvcnVuVGVzdHNBc3luY2hyb25vdXMvJztcbiAgICByZXR1cm4gdGhpcy5fY29ubi5yZXF1ZXN0UG9zdDxzdHJpbmcgfCBudWxsPih1cmwsIHJlcSk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgQXBleCB0ZXN0cyBzeW5jaHJvbm91c2x5XG4gICAqL1xuICBydW5UZXN0c1N5bmNocm9ub3VzKHJlcTogUnVuVGVzdHNSZXF1ZXN0KSB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5fYmFzZVVybCgpICsgJy9ydW5UZXN0c1N5bmNocm9ub3VzLyc7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm4ucmVxdWVzdFBvc3Q8UnVuVGVzdHNSZXN1bHQgfCBudWxsPih1cmwsIHJlcSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGF2YWlsYWJsZSBjb2RlIGNvbXBsZXRpb25zIG9mIHRoZSByZWZlcmVuY2VkIHR5cGVcbiAgICovXG4gIGNvbXBsZXRpb25zKHR5cGU6ICdhcGV4JyB8ICd2aXN1YWxmb3JjZScgPSAnYXBleCcpIHtcbiAgICBjb25zdCB1cmwgPVxuICAgICAgdGhpcy5fYmFzZVVybCgpICsgJy9jb21wbGV0aW9ucz90eXBlPScgKyBlbmNvZGVVUklDb21wb25lbnQodHlwZSk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxDb21wbGV0aW9uc1Jlc3VsdD4oe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybCxcbiAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qXG4gKiBSZWdpc3RlciBob29rIGluIGNvbm5lY3Rpb24gaW5zdGFudGlhdGlvbiBmb3IgZHluYW1pY2FsbHkgYWRkaW5nIHRoaXMgQVBJIG1vZHVsZSBmZWF0dXJlc1xuICovXG5yZWdpc3Rlck1vZHVsZSgndG9vbGluZycsIChjb25uKSA9PiBuZXcgVG9vbGluZyhjb25uKSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRvb2xpbmc7XG4iXX0=