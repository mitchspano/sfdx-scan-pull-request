import "core-js/modules/es.array.iterator";
import _Object$defineProperty from "@babel/runtime-corejs3/core-js-stable/object/define-property";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";
import { EventEmitter } from 'events';
import VERSION from './VERSION';
import Connection from './connection';
import OAuth2 from './oauth2';
import SfDate from './date';
import registry from './registry';
import client, { BrowserClient } from './browser/client';
/**
 *
 */

class JSforce extends EventEmitter {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "VERSION", VERSION);

    _defineProperty(this, "Connection", Connection);

    _defineProperty(this, "OAuth2", OAuth2);

    _defineProperty(this, "SfDate", SfDate);

    _defineProperty(this, "Date", SfDate);

    _defineProperty(this, "BrowserClient", BrowserClient);

    _defineProperty(this, "registry", registry);

    _defineProperty(this, "browser", client);
  }

}

export function registerModule(name, factory) {
  jsforce.on('connection:new', conn => {
    let obj = undefined;

    _Object$defineProperty(conn, name, {
      get() {
        var _obj;

        obj = (_obj = obj) !== null && _obj !== void 0 ? _obj : factory(conn);
        return obj;
      },

      enumerable: true,
      configurable: true
    });
  });
}
const jsforce = new JSforce();
export default jsforce;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9qc2ZvcmNlLnRzIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsIlZFUlNJT04iLCJDb25uZWN0aW9uIiwiT0F1dGgyIiwiU2ZEYXRlIiwicmVnaXN0cnkiLCJjbGllbnQiLCJCcm93c2VyQ2xpZW50IiwiSlNmb3JjZSIsInJlZ2lzdGVyTW9kdWxlIiwibmFtZSIsImZhY3RvcnkiLCJqc2ZvcmNlIiwib24iLCJjb25uIiwib2JqIiwidW5kZWZpbmVkIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSJdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsU0FBU0EsWUFBVCxRQUE2QixRQUE3QjtBQUNBLE9BQU9DLE9BQVAsTUFBb0IsV0FBcEI7QUFDQSxPQUFPQyxVQUFQLE1BQXVCLGNBQXZCO0FBQ0EsT0FBT0MsTUFBUCxNQUFtQixVQUFuQjtBQUNBLE9BQU9DLE1BQVAsTUFBbUIsUUFBbkI7QUFDQSxPQUFPQyxRQUFQLE1BQW1DLFlBQW5DO0FBQ0EsT0FBT0MsTUFBUCxJQUFpQkMsYUFBakIsUUFBc0Msa0JBQXRDO0FBRUE7QUFDQTtBQUNBOztBQUNBLE1BQU1DLE9BQU4sU0FBc0JSLFlBQXRCLENBQW1DO0FBQUE7QUFBQTs7QUFBQSxxQ0FDUEMsT0FETzs7QUFBQSx3Q0FFREMsVUFGQzs7QUFBQSxvQ0FHVEMsTUFIUzs7QUFBQSxvQ0FJVEMsTUFKUzs7QUFBQSxrQ0FLWEEsTUFMVzs7QUFBQSwyQ0FNS0csYUFOTDs7QUFBQSxzQ0FPWkYsUUFQWTs7QUFBQSxxQ0FRUkMsTUFSUTtBQUFBOztBQUFBOztBQVduQyxPQUFPLFNBQVNHLGNBQVQsQ0FDTEMsSUFESyxFQUVMQyxPQUZLLEVBR0w7QUFDQUMsRUFBQUEsT0FBTyxDQUFDQyxFQUFSLENBQVcsZ0JBQVgsRUFBOEJDLElBQUQsSUFBc0I7QUFDakQsUUFBSUMsR0FBUSxHQUFHQyxTQUFmOztBQUNBLDJCQUFzQkYsSUFBdEIsRUFBNEJKLElBQTVCLEVBQWtDO0FBQ2hDTyxNQUFBQSxHQUFHLEdBQUc7QUFBQTs7QUFDSkYsUUFBQUEsR0FBRyxXQUFHQSxHQUFILHVDQUFVSixPQUFPLENBQUNHLElBQUQsQ0FBcEI7QUFDQSxlQUFPQyxHQUFQO0FBQ0QsT0FKK0I7O0FBS2hDRyxNQUFBQSxVQUFVLEVBQUUsSUFMb0I7QUFNaENDLE1BQUFBLFlBQVksRUFBRTtBQU5rQixLQUFsQztBQVFELEdBVkQ7QUFXRDtBQUVELE1BQU1QLE9BQU8sR0FBRyxJQUFJSixPQUFKLEVBQWhCO0FBQ0EsZUFBZUksT0FBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgVkVSU0lPTiBmcm9tICcuL1ZFUlNJT04nO1xuaW1wb3J0IENvbm5lY3Rpb24gZnJvbSAnLi9jb25uZWN0aW9uJztcbmltcG9ydCBPQXV0aDIgZnJvbSAnLi9vYXV0aDInO1xuaW1wb3J0IFNmRGF0ZSBmcm9tICcuL2RhdGUnO1xuaW1wb3J0IHJlZ2lzdHJ5LCB7IFJlZ2lzdHJ5IH0gZnJvbSAnLi9yZWdpc3RyeSc7XG5pbXBvcnQgY2xpZW50LCB7IEJyb3dzZXJDbGllbnQgfSBmcm9tICcuL2Jyb3dzZXIvY2xpZW50JztcblxuLyoqXG4gKlxuICovXG5jbGFzcyBKU2ZvcmNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgVkVSU0lPTjogdHlwZW9mIFZFUlNJT04gPSBWRVJTSU9OO1xuICBDb25uZWN0aW9uOiB0eXBlb2YgQ29ubmVjdGlvbiA9IENvbm5lY3Rpb247XG4gIE9BdXRoMjogdHlwZW9mIE9BdXRoMiA9IE9BdXRoMjtcbiAgU2ZEYXRlOiB0eXBlb2YgU2ZEYXRlID0gU2ZEYXRlO1xuICBEYXRlOiB0eXBlb2YgU2ZEYXRlID0gU2ZEYXRlO1xuICBCcm93c2VyQ2xpZW50OiB0eXBlb2YgQnJvd3NlckNsaWVudCA9IEJyb3dzZXJDbGllbnQ7XG4gIHJlZ2lzdHJ5OiBSZWdpc3RyeSA9IHJlZ2lzdHJ5O1xuICBicm93c2VyOiBCcm93c2VyQ2xpZW50ID0gY2xpZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJNb2R1bGUoXG4gIG5hbWU6IHN0cmluZyxcbiAgZmFjdG9yeTogKGNvbm46IENvbm5lY3Rpb24pID0+IGFueSxcbikge1xuICBqc2ZvcmNlLm9uKCdjb25uZWN0aW9uOm5ldycsIChjb25uOiBDb25uZWN0aW9uKSA9PiB7XG4gICAgbGV0IG9iajogYW55ID0gdW5kZWZpbmVkO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25uLCBuYW1lLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIG9iaiA9IG9iaiA/PyBmYWN0b3J5KGNvbm4pO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSk7XG4gIH0pO1xufVxuXG5jb25zdCBqc2ZvcmNlID0gbmV3IEpTZm9yY2UoKTtcbmV4cG9ydCBkZWZhdWx0IGpzZm9yY2U7XG4iXX0=