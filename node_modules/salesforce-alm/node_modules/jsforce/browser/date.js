import "core-js/modules/es.array.join";
import "core-js/modules/es.regexp.exec";
import "core-js/modules/es.string.match";
import "core-js/modules/web.url.to-json";
import _parseInt from "@babel/runtime-corejs3/core-js-stable/parse-int";
import _classCallCheck from "@babel/runtime-corejs3/helpers/classCallCheck";
import _createClass from "@babel/runtime-corejs3/helpers/createClass";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";
import _concatInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/concat";

/**
 *
 */
import { zeroPad } from './util/formatter';
/** @private **/

function createLiteralBuilder(literal) {
  return function (num) {
    var _context;

    return new SfDate(_concatInstanceProperty(_context = "".concat(literal, ":")).call(_context, String(num)));
  }; // eslint-disable-line no-use-before-define
}
/**
 * A date object to keep Salesforce date literal
 *
 * @class
 * @constructor
 * @see http://www.salesforce.com/us/developer/docs/soql_sosl/Content/sforce_api_calls_soql_select_dateformats.htm
 */


export var SfDate = /*#__PURE__*/function () {
  /**
   *
   */
  function SfDate(literal) {
    _classCallCheck(this, SfDate);

    _defineProperty(this, "_literal", void 0);

    _defineProperty(this, "toString", this.toJSON);

    this._literal = literal;
  }
  /**
   * Returns literal when converted to string
   */


  _createClass(SfDate, [{
    key: "toJSON",
    value: function toJSON() {
      return this._literal;
    }
  }], [{
    key: "toDateLiteral",

    /**
     * Convert JavaScript date object to ISO8601 Date format (e.g. 2012-10-31)
     *
     * @param {String|Number|Date} date - Input date
     * @returns {SfDate} - Salesforce date literal with ISO8601 date format
     */
    value: function toDateLiteral(date) {
      var _date;

      if (typeof date === 'number') {
        _date = new Date(date);
      } else if (typeof date === 'string') {
        _date = SfDate.parseDate(date);
      } else {
        _date = date;
      }

      var yy = _date.getFullYear();

      var mm = _date.getMonth() + 1;

      var dd = _date.getDate();

      var dstr = [yy, zeroPad(mm), zeroPad(dd)].join('-');
      return new SfDate(dstr);
    }
    /**
     * Convert JavaScript date object to ISO8601 DateTime format
     * (e.g. 2012-10-31T12:34:56Z)
     */

  }, {
    key: "toDateTimeLiteral",
    value: function toDateTimeLiteral(date) {
      var _context2;

      var _date;

      if (typeof date === 'number') {
        _date = new Date(date);
      } else if (typeof date === 'string') {
        _date = SfDate.parseDate(date);
      } else {
        _date = date;
      }

      var yy = _date.getUTCFullYear();

      var mm = _date.getUTCMonth() + 1;

      var dd = _date.getUTCDate();

      var hh = _date.getUTCHours();

      var mi = _date.getUTCMinutes();

      var ss = _date.getUTCSeconds();

      var dtstr = _concatInstanceProperty(_context2 = "".concat([yy, zeroPad(mm), zeroPad(dd)].join('-'), "T")).call(_context2, [zeroPad(hh), zeroPad(mi), zeroPad(ss)].join(':'), "Z");

      return new SfDate(dtstr);
    }
    /**
     * Convert JavaScript date object to ISO8601 time format
     * (e.g. 12:34:56.789Z)
     */

  }, {
    key: "toTimeLiteral",
    value: function toTimeLiteral(time) {
      var _context3, _context4, _context5;

      var _date = new Date(0);

      if (typeof time === 'string') {
        _date = SfDate.parseTime(time);
      } else if (typeof time === 'number') {
        _date = new Date(time);
      } else {
        _date = time;
      }

      var hh = _date.getUTCHours();

      var mi = _date.getUTCMinutes();

      var ss = _date.getUTCSeconds();

      var sss = _date.getUTCMilliseconds();

      var tstr = _concatInstanceProperty(_context3 = _concatInstanceProperty(_context4 = _concatInstanceProperty(_context5 = "".concat(zeroPad(hh), ":")).call(_context5, zeroPad(mi), ":")).call(_context4, zeroPad(ss), ".")).call(_context3, zeroPad(sss, 3), "Z");

      return new SfDate(tstr);
    }
    /**
     * Parse IS08601 date(time) formatted string and return date instance
     */

  }, {
    key: "parseDate",
    value: function parseDate(str) {
      var d = new Date();
      var regexp = /^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([+-])([\d]{2}):?([\d]{2})))?$/;
      var m = str.match(regexp);

      if (m) {
        d = new Date(0);

        if (!m[4]) {
          d.setFullYear(_parseInt(m[1], 10));
          d.setDate(_parseInt(m[3], 10));
          d.setMonth(_parseInt(m[2], 10) - 1);
          d.setHours(0);
          d.setMinutes(0);
          d.setSeconds(0);
          d.setMilliseconds(0);
        } else {
          d.setUTCFullYear(_parseInt(m[1], 10));
          d.setUTCDate(_parseInt(m[3], 10));
          d.setUTCMonth(_parseInt(m[2], 10) - 1);
          d.setUTCHours(_parseInt(m[5], 10));
          d.setUTCMinutes(_parseInt(m[6], 10));
          d.setUTCSeconds(_parseInt(m[7], 10));
          d.setUTCMilliseconds(_parseInt(m[9] || '0', 10));

          if (m[10] && m[10] !== 'Z') {
            var offset = _parseInt(m[12], 10) * 60 + _parseInt(m[13], 10);

            d.setTime((m[11] === '+' ? -1 : 1) * offset * 60 * 1000 + d.getTime());
          }
        }

        return d;
      }

      throw new Error("Invalid date format is specified : ".concat(str));
    }
    /**
     * Parse IS08601 time formatted string and convert to parse string
     */

  }, {
    key: "parseTime",
    value: function parseTime(str) {
      var regexp = /^([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?Z?$/;
      var m = str.match(regexp);

      if (m) {
        var d = new Date(0);

        var hh = _parseInt(m[1], 10);

        var mi = _parseInt(m[2], 10);

        var ss = _parseInt(m[3], 10);

        var sss = _parseInt(m[5] || '0', 10);

        d.setUTCHours(hh);
        d.setUTCMinutes(mi);
        d.setUTCSeconds(ss);
        d.setUTCMilliseconds(sss);
        return d;
      }

      throw new Error("Invalid time format is specified : ".concat(str));
    }
  }]);

  return SfDate;
}();

_defineProperty(SfDate, "YESTERDAY", new SfDate('YESTERDAY'));

_defineProperty(SfDate, "TODAY", new SfDate('TODAY'));

_defineProperty(SfDate, "TOMORROW", new SfDate('TOMORROW'));

_defineProperty(SfDate, "LAST_WEEK", new SfDate('LAST_WEEK'));

_defineProperty(SfDate, "THIS_WEEK", new SfDate('THIS_WEEK'));

_defineProperty(SfDate, "NEXT_WEEK", new SfDate('NEXT_WEEK'));

_defineProperty(SfDate, "LAST_MONTH", new SfDate('LAST_MONTH'));

_defineProperty(SfDate, "THIS_MONTH", new SfDate('THIS_MONTH'));

_defineProperty(SfDate, "NEXT_MONTH", new SfDate('NEXT_MONTH'));

_defineProperty(SfDate, "LAST_90_DAYS", new SfDate('LAST_90_DAYS'));

_defineProperty(SfDate, "NEXT_90_DAYS", new SfDate('NEXT_90_DAYS'));

_defineProperty(SfDate, "LAST_N_DAYS", createLiteralBuilder('LAST_N_DAYS'));

_defineProperty(SfDate, "NEXT_N_DAYS", createLiteralBuilder('NEXT_N_DAYS'));

_defineProperty(SfDate, "NEXT_N_WEEKS", createLiteralBuilder('NEXT_N_WEEKS'));

_defineProperty(SfDate, "LAST_N_WEEKS", createLiteralBuilder('LAST_N_WEEKS'));

_defineProperty(SfDate, "NEXT_N_MONTHS", createLiteralBuilder('NEXT_N_MONTHS'));

_defineProperty(SfDate, "LAST_N_MONTHS", createLiteralBuilder('LAST_N_MONTHS'));

_defineProperty(SfDate, "THIS_QUARTER", new SfDate('THIS_QUARTER'));

_defineProperty(SfDate, "LAST_QUARTER", new SfDate('LAST_QUARTER'));

_defineProperty(SfDate, "NEXT_QUARTER", new SfDate('NEXT_QUARTER'));

_defineProperty(SfDate, "NEXT_N_QUARTERS", createLiteralBuilder('NEXT_N_QUARTERS'));

_defineProperty(SfDate, "LAST_N_QUARTERS", createLiteralBuilder('LAST_N_QUARTERS'));

_defineProperty(SfDate, "THIS_YEAR", new SfDate('THIS_YEAR'));

_defineProperty(SfDate, "LAST_YEAR", new SfDate('LAST_YEAR'));

_defineProperty(SfDate, "NEXT_YEAR", new SfDate('NEXT_YEAR'));

_defineProperty(SfDate, "NEXT_N_YEARS", createLiteralBuilder('NEXT_N_YEARS'));

_defineProperty(SfDate, "LAST_N_YEARS", createLiteralBuilder('LAST_N_YEARS'));

_defineProperty(SfDate, "THIS_FISCAL_QUARTER", new SfDate('THIS_FISCAL_QUARTER'));

_defineProperty(SfDate, "LAST_FISCAL_QUARTER", new SfDate('LAST_FISCAL_QUARTER'));

_defineProperty(SfDate, "NEXT_FISCAL_QUARTER", new SfDate('NEXT_FISCAL_QUARTER'));

_defineProperty(SfDate, "THIS_FISCAL_YEAR", new SfDate('THIS_FISCAL_YEAR'));

_defineProperty(SfDate, "NEXT_N_FISCAL_QUARTERS", createLiteralBuilder('NEXT_N_FISCAL_QUARTERS'));

_defineProperty(SfDate, "LAST_N_FISCAL_QUARTERS", createLiteralBuilder('LAST_N_FISCAL_QUARTERS'));

_defineProperty(SfDate, "LAST_FISCAL_YEAR", new SfDate('LAST_FISCAL_YEAR'));

_defineProperty(SfDate, "NEXT_FISCAL_YEAR", new SfDate('NEXT_FISCAL_YEAR'));

_defineProperty(SfDate, "NEXT_N_FISCAL_YEARS", createLiteralBuilder('NEXT_N_FISCAL_YEARS'));

_defineProperty(SfDate, "LAST_N_FISCAL_YEARS", createLiteralBuilder('LAST_N_FISCAL_YEARS'));

export default SfDate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9kYXRlLnRzIl0sIm5hbWVzIjpbInplcm9QYWQiLCJjcmVhdGVMaXRlcmFsQnVpbGRlciIsImxpdGVyYWwiLCJudW0iLCJTZkRhdGUiLCJTdHJpbmciLCJ0b0pTT04iLCJfbGl0ZXJhbCIsImRhdGUiLCJfZGF0ZSIsIkRhdGUiLCJwYXJzZURhdGUiLCJ5eSIsImdldEZ1bGxZZWFyIiwibW0iLCJnZXRNb250aCIsImRkIiwiZ2V0RGF0ZSIsImRzdHIiLCJqb2luIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJoaCIsImdldFVUQ0hvdXJzIiwibWkiLCJnZXRVVENNaW51dGVzIiwic3MiLCJnZXRVVENTZWNvbmRzIiwiZHRzdHIiLCJ0aW1lIiwicGFyc2VUaW1lIiwic3NzIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwidHN0ciIsInN0ciIsImQiLCJyZWdleHAiLCJtIiwibWF0Y2giLCJzZXRGdWxsWWVhciIsInNldERhdGUiLCJzZXRNb250aCIsInNldEhvdXJzIiwic2V0TWludXRlcyIsInNldFNlY29uZHMiLCJzZXRNaWxsaXNlY29uZHMiLCJzZXRVVENGdWxsWWVhciIsInNldFVUQ0RhdGUiLCJzZXRVVENNb250aCIsInNldFVUQ0hvdXJzIiwic2V0VVRDTWludXRlcyIsInNldFVUQ1NlY29uZHMiLCJzZXRVVENNaWxsaXNlY29uZHMiLCJvZmZzZXQiLCJzZXRUaW1lIiwiZ2V0VGltZSIsIkVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsU0FBU0EsT0FBVCxRQUF3QixrQkFBeEI7QUFFQTs7QUFDQSxTQUFTQyxvQkFBVCxDQUE4QkMsT0FBOUIsRUFBK0M7QUFDN0MsU0FBTyxVQUFDQyxHQUFEO0FBQUE7O0FBQUEsV0FBaUIsSUFBSUMsTUFBSiw4Q0FBY0YsT0FBZCx1QkFBeUJHLE1BQU0sQ0FBQ0YsR0FBRCxDQUEvQixFQUFqQjtBQUFBLEdBQVAsQ0FENkMsQ0FDb0I7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ZSxJQUFJQSxNQUFKLENBQVcsa0JBQVgsQzs7Z0JBM0xmQSxNLHNCQTRMZSxJQUFJQSxNQUFKLENBQVcsa0JBQVgsQzs7Z0JBNUxmQSxNLHlCQTZMa0JILG9CQUFvQixDQUFDLHFCQUFELEM7O2dCQTdMdENHLE0seUJBOExrQkgsb0JBQW9CLENBQUMscUJBQUQsQzs7QUFHbkQsZUFBZUcsTUFBZiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICpcbiAqL1xuaW1wb3J0IHsgemVyb1BhZCB9IGZyb20gJy4vdXRpbC9mb3JtYXR0ZXInO1xuXG4vKiogQHByaXZhdGUgKiovXG5mdW5jdGlvbiBjcmVhdGVMaXRlcmFsQnVpbGRlcihsaXRlcmFsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIChudW06IG51bWJlcikgPT4gbmV3IFNmRGF0ZShgJHtsaXRlcmFsfToke1N0cmluZyhudW0pfWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG59XG5cbi8qKlxuICogQSBkYXRlIG9iamVjdCB0byBrZWVwIFNhbGVzZm9yY2UgZGF0ZSBsaXRlcmFsXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqIEBzZWUgaHR0cDovL3d3dy5zYWxlc2ZvcmNlLmNvbS91cy9kZXZlbG9wZXIvZG9jcy9zb3FsX3Nvc2wvQ29udGVudC9zZm9yY2VfYXBpX2NhbGxzX3NvcWxfc2VsZWN0X2RhdGVmb3JtYXRzLmh0bVxuICovXG5leHBvcnQgY2xhc3MgU2ZEYXRlIHtcbiAgcHJpdmF0ZSBfbGl0ZXJhbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IobGl0ZXJhbDogc3RyaW5nKSB7XG4gICAgdGhpcy5fbGl0ZXJhbCA9IGxpdGVyYWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBsaXRlcmFsIHdoZW4gY29udmVydGVkIHRvIHN0cmluZ1xuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLl9saXRlcmFsO1xuICB9XG5cbiAgdG9TdHJpbmcgPSB0aGlzLnRvSlNPTjtcblxuICAvKipcbiAgICogQ29udmVydCBKYXZhU2NyaXB0IGRhdGUgb2JqZWN0IHRvIElTTzg2MDEgRGF0ZSBmb3JtYXQgKGUuZy4gMjAxMi0xMC0zMSlcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfERhdGV9IGRhdGUgLSBJbnB1dCBkYXRlXG4gICAqIEByZXR1cm5zIHtTZkRhdGV9IC0gU2FsZXNmb3JjZSBkYXRlIGxpdGVyYWwgd2l0aCBJU084NjAxIGRhdGUgZm9ybWF0XG4gICAqL1xuICBzdGF0aWMgdG9EYXRlTGl0ZXJhbChkYXRlOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlKSB7XG4gICAgbGV0IF9kYXRlOiBEYXRlO1xuICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIF9kYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIF9kYXRlID0gU2ZEYXRlLnBhcnNlRGF0ZShkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2RhdGUgPSBkYXRlO1xuICAgIH1cbiAgICBjb25zdCB5eSA9IF9kYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgY29uc3QgbW0gPSBfZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBjb25zdCBkZCA9IF9kYXRlLmdldERhdGUoKTtcbiAgICBjb25zdCBkc3RyID0gW3l5LCB6ZXJvUGFkKG1tKSwgemVyb1BhZChkZCldLmpvaW4oJy0nKTtcbiAgICByZXR1cm4gbmV3IFNmRGF0ZShkc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IEphdmFTY3JpcHQgZGF0ZSBvYmplY3QgdG8gSVNPODYwMSBEYXRlVGltZSBmb3JtYXRcbiAgICogKGUuZy4gMjAxMi0xMC0zMVQxMjozNDo1NlopXG4gICAqL1xuICBzdGF0aWMgdG9EYXRlVGltZUxpdGVyYWwoZGF0ZTogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSkge1xuICAgIGxldCBfZGF0ZTogRGF0ZTtcbiAgICBpZiAodHlwZW9mIGRhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICBfZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBfZGF0ZSA9IFNmRGF0ZS5wYXJzZURhdGUoZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9kYXRlID0gZGF0ZTtcbiAgICB9XG4gICAgY29uc3QgeXkgPSBfZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICAgIGNvbnN0IG1tID0gX2RhdGUuZ2V0VVRDTW9udGgoKSArIDE7XG4gICAgY29uc3QgZGQgPSBfZGF0ZS5nZXRVVENEYXRlKCk7XG4gICAgY29uc3QgaGggPSBfZGF0ZS5nZXRVVENIb3VycygpO1xuICAgIGNvbnN0IG1pID0gX2RhdGUuZ2V0VVRDTWludXRlcygpO1xuICAgIGNvbnN0IHNzID0gX2RhdGUuZ2V0VVRDU2Vjb25kcygpO1xuICAgIGNvbnN0IGR0c3RyID0gYCR7W3l5LCB6ZXJvUGFkKG1tKSwgemVyb1BhZChkZCldLmpvaW4oJy0nKX1UJHtbXG4gICAgICB6ZXJvUGFkKGhoKSxcbiAgICAgIHplcm9QYWQobWkpLFxuICAgICAgemVyb1BhZChzcyksXG4gICAgXS5qb2luKCc6Jyl9WmA7XG4gICAgcmV0dXJuIG5ldyBTZkRhdGUoZHRzdHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgSmF2YVNjcmlwdCBkYXRlIG9iamVjdCB0byBJU084NjAxIHRpbWUgZm9ybWF0XG4gICAqIChlLmcuIDEyOjM0OjU2Ljc4OVopXG4gICAqL1xuICBzdGF0aWMgdG9UaW1lTGl0ZXJhbCh0aW1lOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlKSB7XG4gICAgbGV0IF9kYXRlID0gbmV3IERhdGUoMCk7XG4gICAgaWYgKHR5cGVvZiB0aW1lID09PSAnc3RyaW5nJykge1xuICAgICAgX2RhdGUgPSBTZkRhdGUucGFyc2VUaW1lKHRpbWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRpbWUgPT09ICdudW1iZXInKSB7XG4gICAgICBfZGF0ZSA9IG5ldyBEYXRlKHRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfZGF0ZSA9IHRpbWU7XG4gICAgfVxuICAgIGNvbnN0IGhoID0gX2RhdGUuZ2V0VVRDSG91cnMoKTtcbiAgICBjb25zdCBtaSA9IF9kYXRlLmdldFVUQ01pbnV0ZXMoKTtcbiAgICBjb25zdCBzcyA9IF9kYXRlLmdldFVUQ1NlY29uZHMoKTtcbiAgICBjb25zdCBzc3MgPSBfZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKTtcbiAgICBjb25zdCB0c3RyID0gYCR7emVyb1BhZChoaCl9OiR7emVyb1BhZChtaSl9OiR7emVyb1BhZChzcyl9LiR7emVyb1BhZChcbiAgICAgIHNzcyxcbiAgICAgIDMsXG4gICAgKX1aYDtcbiAgICByZXR1cm4gbmV3IFNmRGF0ZSh0c3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBJUzA4NjAxIGRhdGUodGltZSkgZm9ybWF0dGVkIHN0cmluZyBhbmQgcmV0dXJuIGRhdGUgaW5zdGFuY2VcbiAgICovXG4gIHN0YXRpYyBwYXJzZURhdGUoc3RyOiBzdHJpbmcpOiBEYXRlIHtcbiAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgcmVnZXhwID0gL14oW1xcZF17NH0pLT8oW1xcZF17Mn0pLT8oW1xcZF17Mn0pKFQoW1xcZF17Mn0pOj8oW1xcZF17Mn0pOj8oW1xcZF17Mn0pKC4oW1xcZF17M30pKT8oWnwoWystXSkoW1xcZF17Mn0pOj8oW1xcZF17Mn0pKSk/JC87XG4gICAgY29uc3QgbSA9IHN0ci5tYXRjaChyZWdleHApO1xuICAgIGlmIChtKSB7XG4gICAgICBkID0gbmV3IERhdGUoMCk7XG4gICAgICBpZiAoIW1bNF0pIHtcbiAgICAgICAgZC5zZXRGdWxsWWVhcihwYXJzZUludChtWzFdLCAxMCkpO1xuICAgICAgICBkLnNldERhdGUocGFyc2VJbnQobVszXSwgMTApKTtcbiAgICAgICAgZC5zZXRNb250aChwYXJzZUludChtWzJdLCAxMCkgLSAxKTtcbiAgICAgICAgZC5zZXRIb3VycygwKTtcbiAgICAgICAgZC5zZXRNaW51dGVzKDApO1xuICAgICAgICBkLnNldFNlY29uZHMoMCk7XG4gICAgICAgIGQuc2V0TWlsbGlzZWNvbmRzKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZC5zZXRVVENGdWxsWWVhcihwYXJzZUludChtWzFdLCAxMCkpO1xuICAgICAgICBkLnNldFVUQ0RhdGUocGFyc2VJbnQobVszXSwgMTApKTtcbiAgICAgICAgZC5zZXRVVENNb250aChwYXJzZUludChtWzJdLCAxMCkgLSAxKTtcbiAgICAgICAgZC5zZXRVVENIb3VycyhwYXJzZUludChtWzVdLCAxMCkpO1xuICAgICAgICBkLnNldFVUQ01pbnV0ZXMocGFyc2VJbnQobVs2XSwgMTApKTtcbiAgICAgICAgZC5zZXRVVENTZWNvbmRzKHBhcnNlSW50KG1bN10sIDEwKSk7XG4gICAgICAgIGQuc2V0VVRDTWlsbGlzZWNvbmRzKHBhcnNlSW50KG1bOV0gfHwgJzAnLCAxMCkpO1xuICAgICAgICBpZiAobVsxMF0gJiYgbVsxMF0gIT09ICdaJykge1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHBhcnNlSW50KG1bMTJdLCAxMCkgKiA2MCArIHBhcnNlSW50KG1bMTNdLCAxMCk7XG4gICAgICAgICAgZC5zZXRUaW1lKFxuICAgICAgICAgICAgKG1bMTFdID09PSAnKycgPyAtMSA6IDEpICogb2Zmc2V0ICogNjAgKiAxMDAwICsgZC5nZXRUaW1lKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkYXRlIGZvcm1hdCBpcyBzcGVjaWZpZWQgOiAke3N0cn1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBJUzA4NjAxIHRpbWUgZm9ybWF0dGVkIHN0cmluZyBhbmQgY29udmVydCB0byBwYXJzZSBzdHJpbmdcbiAgICovXG4gIHN0YXRpYyBwYXJzZVRpbWUoc3RyOiBzdHJpbmcpOiBEYXRlIHtcbiAgICBjb25zdCByZWdleHAgPSAvXihbXFxkXXsyfSk6PyhbXFxkXXsyfSk6PyhbXFxkXXsyfSkoLihbXFxkXXszfSkpP1o/JC87XG4gICAgY29uc3QgbSA9IHN0ci5tYXRjaChyZWdleHApO1xuICAgIGlmIChtKSB7XG4gICAgICBjb25zdCBkID0gbmV3IERhdGUoMCk7XG4gICAgICBsZXQgaGggPSBwYXJzZUludChtWzFdLCAxMCk7XG4gICAgICBjb25zdCBtaSA9IHBhcnNlSW50KG1bMl0sIDEwKTtcbiAgICAgIGNvbnN0IHNzID0gcGFyc2VJbnQobVszXSwgMTApO1xuICAgICAgY29uc3Qgc3NzID0gcGFyc2VJbnQobVs1XSB8fCAnMCcsIDEwKTtcbiAgICAgIGQuc2V0VVRDSG91cnMoaGgpO1xuICAgICAgZC5zZXRVVENNaW51dGVzKG1pKTtcbiAgICAgIGQuc2V0VVRDU2Vjb25kcyhzcyk7XG4gICAgICBkLnNldFVUQ01pbGxpc2Vjb25kcyhzc3MpO1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0aW1lIGZvcm1hdCBpcyBzcGVjaWZpZWQgOiAke3N0cn1gKTtcbiAgfVxuXG4gIHN0YXRpYyBZRVNURVJEQVkgPSBuZXcgU2ZEYXRlKCdZRVNURVJEQVknKTtcbiAgc3RhdGljIFRPREFZID0gbmV3IFNmRGF0ZSgnVE9EQVknKTtcbiAgc3RhdGljIFRPTU9SUk9XID0gbmV3IFNmRGF0ZSgnVE9NT1JST1cnKTtcbiAgc3RhdGljIExBU1RfV0VFSyA9IG5ldyBTZkRhdGUoJ0xBU1RfV0VFSycpO1xuICBzdGF0aWMgVEhJU19XRUVLID0gbmV3IFNmRGF0ZSgnVEhJU19XRUVLJyk7XG4gIHN0YXRpYyBORVhUX1dFRUsgPSBuZXcgU2ZEYXRlKCdORVhUX1dFRUsnKTtcbiAgc3RhdGljIExBU1RfTU9OVEggPSBuZXcgU2ZEYXRlKCdMQVNUX01PTlRIJyk7XG4gIHN0YXRpYyBUSElTX01PTlRIID0gbmV3IFNmRGF0ZSgnVEhJU19NT05USCcpO1xuICBzdGF0aWMgTkVYVF9NT05USCA9IG5ldyBTZkRhdGUoJ05FWFRfTU9OVEgnKTtcbiAgc3RhdGljIExBU1RfOTBfREFZUyA9IG5ldyBTZkRhdGUoJ0xBU1RfOTBfREFZUycpO1xuICBzdGF0aWMgTkVYVF85MF9EQVlTID0gbmV3IFNmRGF0ZSgnTkVYVF85MF9EQVlTJyk7XG4gIHN0YXRpYyBMQVNUX05fREFZUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdMQVNUX05fREFZUycpO1xuICBzdGF0aWMgTkVYVF9OX0RBWVMgPSBjcmVhdGVMaXRlcmFsQnVpbGRlcignTkVYVF9OX0RBWVMnKTtcbiAgc3RhdGljIE5FWFRfTl9XRUVLUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdORVhUX05fV0VFS1MnKTtcbiAgc3RhdGljIExBU1RfTl9XRUVLUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdMQVNUX05fV0VFS1MnKTtcbiAgc3RhdGljIE5FWFRfTl9NT05USFMgPSBjcmVhdGVMaXRlcmFsQnVpbGRlcignTkVYVF9OX01PTlRIUycpO1xuICBzdGF0aWMgTEFTVF9OX01PTlRIUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdMQVNUX05fTU9OVEhTJyk7XG4gIHN0YXRpYyBUSElTX1FVQVJURVIgPSBuZXcgU2ZEYXRlKCdUSElTX1FVQVJURVInKTtcbiAgc3RhdGljIExBU1RfUVVBUlRFUiA9IG5ldyBTZkRhdGUoJ0xBU1RfUVVBUlRFUicpO1xuICBzdGF0aWMgTkVYVF9RVUFSVEVSID0gbmV3IFNmRGF0ZSgnTkVYVF9RVUFSVEVSJyk7XG4gIHN0YXRpYyBORVhUX05fUVVBUlRFUlMgPSBjcmVhdGVMaXRlcmFsQnVpbGRlcignTkVYVF9OX1FVQVJURVJTJyk7XG4gIHN0YXRpYyBMQVNUX05fUVVBUlRFUlMgPSBjcmVhdGVMaXRlcmFsQnVpbGRlcignTEFTVF9OX1FVQVJURVJTJyk7XG4gIHN0YXRpYyBUSElTX1lFQVIgPSBuZXcgU2ZEYXRlKCdUSElTX1lFQVInKTtcbiAgc3RhdGljIExBU1RfWUVBUiA9IG5ldyBTZkRhdGUoJ0xBU1RfWUVBUicpO1xuICBzdGF0aWMgTkVYVF9ZRUFSID0gbmV3IFNmRGF0ZSgnTkVYVF9ZRUFSJyk7XG4gIHN0YXRpYyBORVhUX05fWUVBUlMgPSBjcmVhdGVMaXRlcmFsQnVpbGRlcignTkVYVF9OX1lFQVJTJyk7XG4gIHN0YXRpYyBMQVNUX05fWUVBUlMgPSBjcmVhdGVMaXRlcmFsQnVpbGRlcignTEFTVF9OX1lFQVJTJyk7XG4gIHN0YXRpYyBUSElTX0ZJU0NBTF9RVUFSVEVSID0gbmV3IFNmRGF0ZSgnVEhJU19GSVNDQUxfUVVBUlRFUicpO1xuICBzdGF0aWMgTEFTVF9GSVNDQUxfUVVBUlRFUiA9IG5ldyBTZkRhdGUoJ0xBU1RfRklTQ0FMX1FVQVJURVInKTtcbiAgc3RhdGljIE5FWFRfRklTQ0FMX1FVQVJURVIgPSBuZXcgU2ZEYXRlKCdORVhUX0ZJU0NBTF9RVUFSVEVSJyk7XG4gIHN0YXRpYyBUSElTX0ZJU0NBTF9ZRUFSID0gbmV3IFNmRGF0ZSgnVEhJU19GSVNDQUxfWUVBUicpO1xuICBzdGF0aWMgTkVYVF9OX0ZJU0NBTF9RVUFSVEVSUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKFxuICAgICdORVhUX05fRklTQ0FMX1FVQVJURVJTJyxcbiAgKTtcbiAgc3RhdGljIExBU1RfTl9GSVNDQUxfUVVBUlRFUlMgPSBjcmVhdGVMaXRlcmFsQnVpbGRlcihcbiAgICAnTEFTVF9OX0ZJU0NBTF9RVUFSVEVSUycsXG4gICk7XG4gIHN0YXRpYyBMQVNUX0ZJU0NBTF9ZRUFSID0gbmV3IFNmRGF0ZSgnTEFTVF9GSVNDQUxfWUVBUicpO1xuICBzdGF0aWMgTkVYVF9GSVNDQUxfWUVBUiA9IG5ldyBTZkRhdGUoJ05FWFRfRklTQ0FMX1lFQVInKTtcbiAgc3RhdGljIE5FWFRfTl9GSVNDQUxfWUVBUlMgPSBjcmVhdGVMaXRlcmFsQnVpbGRlcignTkVYVF9OX0ZJU0NBTF9ZRUFSUycpO1xuICBzdGF0aWMgTEFTVF9OX0ZJU0NBTF9ZRUFSUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdMQVNUX05fRklTQ0FMX1lFQVJTJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNmRGF0ZTtcbiJdfQ==