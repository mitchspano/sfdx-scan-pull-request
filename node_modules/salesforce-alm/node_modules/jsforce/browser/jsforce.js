import _Reflect$construct from "@babel/runtime-corejs3/core-js-stable/reflect/construct";
import _Object$defineProperty from "@babel/runtime-corejs3/core-js-stable/object/define-property";
import _concatInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/concat";
import _classCallCheck from "@babel/runtime-corejs3/helpers/classCallCheck";
import _assertThisInitialized from "@babel/runtime-corejs3/helpers/assertThisInitialized";
import _inherits from "@babel/runtime-corejs3/helpers/inherits";
import _possibleConstructorReturn from "@babel/runtime-corejs3/helpers/possibleConstructorReturn";
import _getPrototypeOf from "@babel/runtime-corejs3/helpers/getPrototypeOf";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }

import { EventEmitter } from 'events';
import VERSION from './VERSION';
import Connection from './connection';
import OAuth2 from './oauth2';
import SfDate from './date';
import registry from './registry';
import client, { BrowserClient } from './browser/client';
/**
 *
 */

var JSforce = /*#__PURE__*/function (_EventEmitter) {
  _inherits(JSforce, _EventEmitter);

  var _super = _createSuper(JSforce);

  function JSforce() {
    var _context;

    var _this;

    _classCallCheck(this, JSforce);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, _concatInstanceProperty(_context = [this]).call(_context, args));

    _defineProperty(_assertThisInitialized(_this), "VERSION", VERSION);

    _defineProperty(_assertThisInitialized(_this), "Connection", Connection);

    _defineProperty(_assertThisInitialized(_this), "OAuth2", OAuth2);

    _defineProperty(_assertThisInitialized(_this), "SfDate", SfDate);

    _defineProperty(_assertThisInitialized(_this), "Date", SfDate);

    _defineProperty(_assertThisInitialized(_this), "BrowserClient", BrowserClient);

    _defineProperty(_assertThisInitialized(_this), "registry", registry);

    _defineProperty(_assertThisInitialized(_this), "browser", client);

    return _this;
  }

  return JSforce;
}(EventEmitter);

export function registerModule(name, factory) {
  jsforce.on('connection:new', function (conn) {
    var obj = undefined;

    _Object$defineProperty(conn, name, {
      get: function get() {
        var _obj;

        obj = (_obj = obj) !== null && _obj !== void 0 ? _obj : factory(conn);
        return obj;
      },
      enumerable: true,
      configurable: true
    });
  });
}
var jsforce = new JSforce();
export default jsforce;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9qc2ZvcmNlLnRzIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsIlZFUlNJT04iLCJDb25uZWN0aW9uIiwiT0F1dGgyIiwiU2ZEYXRlIiwicmVnaXN0cnkiLCJjbGllbnQiLCJCcm93c2VyQ2xpZW50IiwiSlNmb3JjZSIsInJlZ2lzdGVyTW9kdWxlIiwibmFtZSIsImZhY3RvcnkiLCJqc2ZvcmNlIiwib24iLCJjb25uIiwib2JqIiwidW5kZWZpbmVkIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSxTQUFTQSxZQUFULFFBQTZCLFFBQTdCO0FBQ0EsT0FBT0MsT0FBUCxNQUFvQixXQUFwQjtBQUNBLE9BQU9DLFVBQVAsTUFBdUIsY0FBdkI7QUFDQSxPQUFPQyxNQUFQLE1BQW1CLFVBQW5CO0FBQ0EsT0FBT0MsTUFBUCxNQUFtQixRQUFuQjtBQUNBLE9BQU9DLFFBQVAsTUFBbUMsWUFBbkM7QUFDQSxPQUFPQyxNQUFQLElBQWlCQyxhQUFqQixRQUFzQyxrQkFBdEM7QUFFQTtBQUNBO0FBQ0E7O0lBQ01DLE87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4REFDc0JQLE87O2lFQUNNQyxVOzs2REFDUkMsTTs7NkRBQ0FDLE07OzJEQUNGQSxNOztvRUFDZ0JHLGE7OytEQUNqQkYsUTs7OERBQ0lDLE07Ozs7OztFQVJMTixZOztBQVd0QixPQUFPLFNBQVNTLGNBQVQsQ0FDTEMsSUFESyxFQUVMQyxPQUZLLEVBR0w7QUFDQUMsRUFBQUEsT0FBTyxDQUFDQyxFQUFSLENBQVcsZ0JBQVgsRUFBNkIsVUFBQ0MsSUFBRCxFQUFzQjtBQUNqRCxRQUFJQyxHQUFRLEdBQUdDLFNBQWY7O0FBQ0EsMkJBQXNCRixJQUF0QixFQUE0QkosSUFBNUIsRUFBa0M7QUFDaENPLE1BQUFBLEdBRGdDLGlCQUMxQjtBQUFBOztBQUNKRixRQUFBQSxHQUFHLFdBQUdBLEdBQUgsdUNBQVVKLE9BQU8sQ0FBQ0csSUFBRCxDQUFwQjtBQUNBLGVBQU9DLEdBQVA7QUFDRCxPQUorQjtBQUtoQ0csTUFBQUEsVUFBVSxFQUFFLElBTG9CO0FBTWhDQyxNQUFBQSxZQUFZLEVBQUU7QUFOa0IsS0FBbEM7QUFRRCxHQVZEO0FBV0Q7QUFFRCxJQUFNUCxPQUFPLEdBQUcsSUFBSUosT0FBSixFQUFoQjtBQUNBLGVBQWVJLE9BQWYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IFZFUlNJT04gZnJvbSAnLi9WRVJTSU9OJztcbmltcG9ydCBDb25uZWN0aW9uIGZyb20gJy4vY29ubmVjdGlvbic7XG5pbXBvcnQgT0F1dGgyIGZyb20gJy4vb2F1dGgyJztcbmltcG9ydCBTZkRhdGUgZnJvbSAnLi9kYXRlJztcbmltcG9ydCByZWdpc3RyeSwgeyBSZWdpc3RyeSB9IGZyb20gJy4vcmVnaXN0cnknO1xuaW1wb3J0IGNsaWVudCwgeyBCcm93c2VyQ2xpZW50IH0gZnJvbSAnLi9icm93c2VyL2NsaWVudCc7XG5cbi8qKlxuICpcbiAqL1xuY2xhc3MgSlNmb3JjZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIFZFUlNJT046IHR5cGVvZiBWRVJTSU9OID0gVkVSU0lPTjtcbiAgQ29ubmVjdGlvbjogdHlwZW9mIENvbm5lY3Rpb24gPSBDb25uZWN0aW9uO1xuICBPQXV0aDI6IHR5cGVvZiBPQXV0aDIgPSBPQXV0aDI7XG4gIFNmRGF0ZTogdHlwZW9mIFNmRGF0ZSA9IFNmRGF0ZTtcbiAgRGF0ZTogdHlwZW9mIFNmRGF0ZSA9IFNmRGF0ZTtcbiAgQnJvd3NlckNsaWVudDogdHlwZW9mIEJyb3dzZXJDbGllbnQgPSBCcm93c2VyQ2xpZW50O1xuICByZWdpc3RyeTogUmVnaXN0cnkgPSByZWdpc3RyeTtcbiAgYnJvd3NlcjogQnJvd3NlckNsaWVudCA9IGNsaWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyTW9kdWxlKFxuICBuYW1lOiBzdHJpbmcsXG4gIGZhY3Rvcnk6IChjb25uOiBDb25uZWN0aW9uKSA9PiBhbnksXG4pIHtcbiAganNmb3JjZS5vbignY29ubmVjdGlvbjpuZXcnLCAoY29ubjogQ29ubmVjdGlvbikgPT4ge1xuICAgIGxldCBvYmo6IGFueSA9IHVuZGVmaW5lZDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29ubiwgbmFtZSwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBvYmogPSBvYmogPz8gZmFjdG9yeShjb25uKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xuICB9KTtcbn1cblxuY29uc3QganNmb3JjZSA9IG5ldyBKU2ZvcmNlKCk7XG5leHBvcnQgZGVmYXVsdCBqc2ZvcmNlO1xuIl19